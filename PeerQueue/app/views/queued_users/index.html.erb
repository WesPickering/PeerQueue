<head>
  <link rel="stylesheet" href="app/assets/stylesheets/queued_users.scss">

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

  <style type="text/css">

  body, html  { height: 100%; }
  html, body, div, span, applet, object, iframe,
  /*h1, h2, h3, h4, h5, h6,*/ p, blockquote, pre,
  a, abbr, acronym, address, big, cite, code,
  del, dfn, em, font, img, ins, kbd, q, s, samp,
  small, strike, strong, sub, sup, tt, var,
  b, u, i, center,
  dl, dt, dd, ol, ul, li,
  fieldset, form, label, legend,
  table, caption, tbody, tfoot, thead, tr, th, td {
  	margin: 0;
  	padding: 0;
  	border: 0;
  	outline: 0;
  	font-size: 100%;
  	vertical-align: baseline;
  	background: transparent;
  }
  h1 {
    text-align: center;
    margin-top: 10px;
    color: white;
    padding-top: 0.75em;
  }
  .container {
    width: 100%;
    height: 15%;
    position: absolute;
    top: 0;
    left: 0;
    background-color: #4682B4;
  }
  body { line-height: 1; }
  ol, ul { list-style: none; }
  blockquote, q { quotes: none; }
  blockquote:before, blockquote:after, q:before, q:after { content: ''; content: none; }
  :focus { outline: 0; }
  del { text-decoration: line-through; }
  table {border-spacing: 0; }
  /*------------------------------------------------------------------ */

  /*This is not important*/
  body{
  	font-family:Arial, Helvetica, sans-serif;
  	background: url(background.jpg);
  	margin:0 auto;
  	width:520px;
  }
  a:link {
  	color: #666;
  	text-decoration:none;
  }
  a:visited {
  	color: #666;
  	text-decoration:none;
  }
  a:active,
  a:hover {
  	color: white;
  	text-decoration:underline;
  }


  /*
  Table Style - This is what you want
  ------------------------------------------------------------------ */
  table a:link {
  	color: #999999;
  	font-weight: bold;
  	text-decoration:none;
  }
  table a:visited {
  	color: #999999;
  	font-weight:bold;
  	text-decoration:none;
  }
  table a:active,
  table a:hover {
  	text-decoration:underline;
    background-color: #eaebec;
  }
  table {
    table-layout: fixed;
  	font-family:Arial, Helvetica, sans-serif;
  	color:#666;
  	font-size:14px;
  	text-shadow: 1px 1px 0px #fff;
  	background:#eaebec;
  	margin:20px;
  	border:#ccc 1px solid;

  	-moz-border-radius:3px;
  	-webkit-border-radius:3px;
  	border-radius:3px;

  	-moz-box-shadow: 0 1px 2px #d1d1d1;
  	-webkit-box-shadow: 0 1px 2px #d1d1d1;
  	box-shadow: 0 1px 2px #d1d1d1;
  }
  table.center{
    margin-top: 150px;
    margin-left: auto;
    margin-right: auto;
  }
  table th {
  	padding:21px 25px 22px 25px;
  	border-top:1px solid #fafafa;
  	border-bottom:1px solid #e0e0e0;

  	background: #ededed;
  	background: -webkit-gradient(linear, left top, left bottom, from(#ededed), to(#ebebeb));
  	background: -moz-linear-gradient(top,  #ededed,  #ebebeb);
  }
  table th:first-child{
  	text-align: left;
  	padding-left:20px;
  }
  table tr:first-child th:first-child{
  	-moz-border-radius-topleft:3px;
  	-webkit-border-top-left-radius:3px;
  	border-top-left-radius:3px;
  }
  table tr:first-child th:last-child{
  	-moz-border-radius-topright:3px;
  	-webkit-border-top-right-radius:3px;
  	border-top-right-radius:3px;
  }
  table tr{
  	text-align: center;
  	padding-left:20px;
  }
  table tr td:first-child{
  	text-align: left;
  	padding-left:20px;
  	border-left: 0;
  }
  table tr td {
  	padding:18px;
  	border-top: 1px solid #ffffff;
  	border-bottom:1px solid #e0e0e0;
  	border-left: 1px solid #e0e0e0;

  	background: #fafafa;
  	background: -webkit-gradient(linear, left top, left bottom, from(#fbfbfb), to(#fafafa));
  	background: -moz-linear-gradient(top,  #fbfbfb,  #fafafa);
  }
  table tr.even td{
  	background: #f6f6f6;
  	background: -webkit-gradient(linear, left top, left bottom, from(#f8f8f8), to(#f6f6f6));
  	background: -moz-linear-gradient(top,  #f8f8f8,  #f6f6f6);
  }
  table tr:last-child td{
  	border-bottom:0;
  }
  table tr:last-child td:first-child{
  	-moz-border-radius-bottomleft:3px;
  	-webkit-border-bottom-left-radius:3px;
  	border-bottom-left-radius:3px;
  }
  table tr:last-child td:last-child{
  	-moz-border-radius-bottomright:3px;
  	-webkit-border-bottom-right-radius:3px;
  	border-bottom-right-radius:3px;
  }
  table tr:hover td{
  	background: #f2f2f2;
  	background: -webkit-gradient(linear, left top, left bottom, from(#f2f2f2), to(#f0f0f0));
  	background: -moz-linear-gradient(top,  #f2f2f2,  #f0f0f0);
  }

  </style>

</head>

<p id="notice"><%= notice %></p>
<head>
<link rel="stylesheet" href="app/assets/stylessheets/queued_users.css">
</head>

<div class="container">
  <h1><b>Queued Users</b></h1>
</div>

<table cellspacing = '0' class="center">
  <thead>
    <tr>
      <th>Name</th>
      <th>Time Added</th>
      <th>Question</th>
      <th>Status</th>
      <th>Peer Help</th>
      <th colspan=4></th>
    </tr>
  </thead>

  <tbody>
    <% @queued_users.order("created_at").each do |queued_user| %>
      <tr>
        <td><%= queued_user.Name %></td>
        <td><%= (queued_user.created_at - 28800).strftime("%r") %></td>
        <td><%= queued_user.Question %></td>
        <td><%= queued_user.Status %></td>
        <% if ((queued_user.PeerHelp && current_user.student?) || !current_user.student?) && queued_user.dbID != session[:user_id] && !queued_user.beingHelped%>
          <td><%= button_to "Help", users_help_path(foo_param: queued_user), method: :post %></td>
        <% end %>

        <% if queued_user.dbID == session[:user_id] || !current_user.student?%>
        <td><%= link_to 'edit', edit_queued_user_url(queued_user) %></td>
        <td><%= link_to 'Remove', queued_user, method: :delete, data: {confirm: "are you sure m8?"}%></td>
        <% end %>
      </tr>
    <% end %>

  </tbody>
</table>
<br>



<%= link_to 'Logout', logout_path, method: :delete, class: "btn btn-default",data: {confirm: "are you sure m8?"}%>



<% if (QueuedUser.find_by_dbID(session[:user_id]) == @current_user) && current_user.student?%>
<%= link_to 'Add Self to Queue', new_queued_user_path, class: "btn btn-default"%>
<% end %>
